<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>‚ú® Magical Team Break Tracker ‚ú®</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>‚ú® Magical Team Break Tracker ‚ú®</h1>
      <p class="motivation">Even dragons need downtime. üêâ</p>
    </header>
    <main>
      <section id="register-section">
        <h2>Register</h2>
        <select id="employee-select" class="input" onchange="prefillEmployee()">
          <option value="">Select Employee</option>
        </select>
        <input type="text" id="reg-name" placeholder="Name" class="input">
        <input type="email" id="reg-email" placeholder="Email" class="input">
        <input type="text" id="reg-empid" placeholder="Employee ID" class="input">
        <input type="text" id="reg-shift" placeholder="Shift Timing (e.g., 8 pm - 5 am IST)" class="input">
        <input type="password" id="reg-password" placeholder="Password" class="input">
        <div id="avatar-selection">
          <label style="font-weight:bold;">Select Your Avatar:</label>
          <div class="avatar-options"></div>
          <input type="hidden" id="reg-avatar" value="avatar1.jpg">
        </div>
        <button class="btn gradient" onclick="register()">Register</button>
        <p class="switch-link">Already registered? <span onclick="showSection('login-section')" style="color:#6a2c70;cursor:pointer;text-decoration:underline;">Login here</span></p>
      </section>
      <section id="login-section" class="hidden">
        <h2>Login</h2>
        <input type="text" id="login-username" placeholder="Name or Email" class="input">
        <input type="password" id="login-password" placeholder="Password" class="input">
        <button class="btn gradient" onclick="login()">Login</button>
        <p class="switch-link">New user? <span onclick="showSection('register-section')" style="color:#6a2c70;cursor:pointer;text-decoration:underline;">Register here</span></p>
      </section>
      <section id="dashboard-section" class="hidden">
        <h2>Team Break Dashboard</h2>
        <button class="btn gradient" onclick="logout()">Logout</button>
        <div class="filter-row">
          <label>Filter by User:</label>
          <input type="text" id="filter-user" class="input" oninput="renderDashboard()">
        </div>
        <div class="filter-row">
          <label>Filter by Date:</label>
          <input type="date" id="filter-date" class="input" onchange="renderDashboard()">
        </div>
        <div id="break-controls">
          <button class="btn gradient" id="start-break" onclick="startBreak()">‚ú® Start Break</button>
          <button class="btn gradient hidden" id="end-break" onclick="endBreak()">End Break</button>
          <span id="break-timer" style="margin-left:10px;"></span>
        </div>
        <button class="btn gradient" style="margin-top:14px;" onclick="downloadCSV()">Download Breaks CSV</button>
        <div id="dashboard-content"></div>
      </section>
    </main>
  </div>
  <script src="app.js"></script>
</body>
</html>
